# EasyNote 功能说明

## 产品概述

**EasyNote** 是一款轻量级的智能任务管理应用，集成 AI 能力帮助用户高效管理日常事务。支持离线使用（游客模式）和多设备同步（登录模式）。

---

## 核心功能

### 1. 📝 任务管理

#### 基础功能
- **创建任务**：支持文本输入和语音输入
- **编辑任务**：修改任务内容、截止日期、详细描述
- **删除任务**：单个删除或批量删除
- **归档任务**：已完成任务移入归档，保留历史记录

#### 时间分类视图
| 视图 | 说明 |
|------|------|
| **历史** (History) | 已过期的任务 |
| **今天** (Today) | 今日待办任务 |
| **近两天** (Future2) | 明天和后天的任务 |
| **之后** (Later) | 更远期的任务 |

#### 日历视图
- 按日期查看所有任务分布
- 支持在日历上直接添加任务
- 快速跳转到指定日期

---

### 2. 🤖 AI 智能功能

#### 语音输入识别
- 使用 Google Gemini AI 识别语音内容
- 自动提取任务和日期信息
- 支持自然语言（如"明天下午开会"自动设置为明天）

#### 智能任务解析
- 输入一段文字，AI 自动拆分为多个独立任务
- 自动识别时间信息并分类到对应视图
- 自动移除时间词汇，保留纯任务描述

#### AI 规划助手
- 打开 AI 规划面板进行复杂规划
- 支持批量生成任务计划
- 智能建议任务优先级和时间安排

---

### 3. 💧 喝水提醒

- 每日喝水目标追踪（默认8杯）
- 一键记录喝水次数
- 可视化进度显示

---

### 4. 🔐 用户系统

#### 双模式存储
| 模式 | 存储位置 | 特点 |
|------|----------|------|
| **游客模式** | 浏览器本地 (IndexedDB) | 无需注册，数据仅在当前设备 |
| **登录模式** | 云端服务器 | 多设备同步，数据安全备份 |

#### 用户认证
- 邮箱 + 密码注册登录
- JWT Token 安全认证
- 支持密码修改

#### 数据迁移
- 游客用户注册后可选择上传本地数据到云端
- 支持本地与云端数据合并

---

## 界面设计

### 设计风格
- **Neumorphism**（新拟物化）设计风格
- 柔和的阴影和高光效果
- 简洁直观的操作界面

### 响应式布局
- 移动端优先设计（max-width: 448px）
- 适配手机和平板设备
- 触摸友好的交互设计

### 主要界面元素

#### 顶部区域
```
┌─────────────────────────────────────┐
│  ┌─────────────┐  ┌───────────┐    │
│  │   时间显示   │  │  喝水追踪  │    │
│  │   17:53     │  │   💧 3/8   │    │
│  │  2024/12/28 │  │   [- ] [+] │    │
│  │  ✨ AI规划   │  │           │    │
│  └─────────────┘  └───────────┘    │
└─────────────────────────────────────┘
```

#### 任务列表区域
```
┌─────────────────────────────────────┐
│  [历史] [今天] [近两天] [之后]       │
├─────────────────────────────────────┤
│  ○ 整理桌面文档                ✎   │
│  ○ 预约牙医                    ✎   │
│  ○ 学习 React 新特性            ✎   │
│                                     │
│                          [归档] [删除]│
└─────────────────────────────────────┘
```

#### 底部导航
```
┌─────────────────────────────────────┐
│   [📋活动]  [📝添加]  [📅日历]  [📦归档] │
└─────────────────────────────────────┘
```

---

## 技术架构

### 前端技术栈
| 技术 | 用途 |
|------|------|
| React 19 | UI 框架 |
| TypeScript | 类型安全 |
| Vite | 构建工具 |
| @google/genai | Gemini AI 集成 |
| marked | Markdown 渲染 |
| IndexedDB | 本地数据存储 |

### 后端技术栈
| 技术 | 用途 |
|------|------|
| Python | 后端语言 |
| FastAPI | Web 框架 |
| SQLite | 数据库（开发） |
| PostgreSQL | 数据库（生产） |
| JWT | 用户认证 |
| bcrypt | 密码加密 |

### AI 集成
| 服务 | 用途 |
|------|------|
| Google Gemini | 语音识别、任务解析、智能规划 |
| 模型 | gemini-3-flash-preview |

---

## 数据模型

### 任务 (Task)
```typescript
interface Task {
  id: string;           // 唯一标识
  text: string;         // 任务内容
  details?: string;     // 详细描述
  createdAt: number;    // 创建时间戳
  dueDate: string;      // 截止日期 (YYYY-MM-DD)
  timeframe: TimeView;  // 时间分类
  selected: boolean;    // 是否选中
  archived: boolean;    // 是否归档
}
```

### 时间分类 (TimeView)
```typescript
enum TimeView {
  HISTORY = 'history',  // 已过期
  TODAY = 'today',      // 今天
  FUTURE2 = 'future2',  // 近两天
  LATER = 'later'       // 之后
}
```

### 用户 (User)
```typescript
interface User {
  id: string;           // 唯一标识
  email: string;        // 邮箱
  nickname?: string;    // 昵称
  avatarUrl?: string;   // 头像
  createdAt: string;    // 注册时间
}
```

---

## 使用场景

### 场景1：快速记录任务
1. 点击底部"添加"按钮
2. 输入"明天下午3点开会"
3. AI 自动识别并创建任务，设置截止日期为明天

### 场景2：语音输入
1. 点击麦克风按钮
2. 说"后天交报告，下周五约客户吃饭"
3. AI 识别后自动创建两个任务，分别设置正确日期

### 场景3：多设备同步
1. 在手机上注册账号
2. 添加若干任务
3. 在电脑浏览器登录同一账号
4. 所有任务自动同步

### 场景4：离线使用
1. 不注册，直接使用应用
2. 所有数据保存在本地
3. 无需网络也可正常使用

---

## 安全与隐私

### 数据安全
- 传输加密：HTTPS 协议
- 存储加密：服务器端加密存储
- 密码安全：bcrypt 哈希存储，不保存明文

### 隐私保护
- 游客模式数据不上传服务器
- 用户可随时删除账号和所有数据
- 不收集非必要的用户信息

---

## 未来规划

### 近期计划
- [ ] 邮件验证码登录
- [ ] 任务提醒通知
- [ ] 数据导出功能

### 远期计划
- [ ] 微信/手机号登录
- [ ] 任务分享与协作
- [ ] 习惯追踪功能
- [ ] 更多 AI 能力（智能分析、建议优化）
